Название проекта: Albion Market Ingestor & API Цель: Создать надежный сервис агрегации рыночных цен Albion Online с упором на ресурсы и "ходовые" предметы для расчета прибыльности крафта.

Основные компоненты
Database (PostgreSQL 16+): Хранит справочники, текущие цены и исторические данные.

Управление схемой: Alembic.

Очистка: Cron-задача внутри БД или воркера (удаление market_history старше 30 дней для неважных предметов).

Ingestion Service (Worker): Python-скрипт в отдельном контейнере.

Задача: Проходит по списку приоритетных предметов -> Формирует URL -> Делает запрос к Albion Data API -> Пишет в БД.

Особенность: Поддерживает пакетные запросы (batching), чтобы за один HTTP-вызов забирать цены сразу 50-100 предметов.

Backend API (FastAPI):

Задача: Предоставляет данные для UI.

Протокол: REST JSON.

Нефункциональные требования
Отказоустойчивость: Если Albion API падает, наш воркер должен ждать и повторять попытки (Exponential Backoff), не роняя приложение.

Безопасность: Доступ к базе только внутри Docker-сети. Наружу торчит только порт нашего API.